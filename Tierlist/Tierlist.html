<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Tier List Â· Celeste Artley</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <script src="../js/navigation.js" defer></script>
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body class="tierlist-body">
    <nav>
      <div class="container">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../about.html">About</a></li>
          <li><a href="../game-developer.html">Game Developer</a></li>
          <li><a href="../web-developer.html">Web Developer</a></li>
          <li><a href="../backend-developer.html">Backend Developer</a></li>
          <li><a href="../fullstack-developer.html">Full-Stack Developer</a></li>
          <li><a href="../custom.html">Custom Filter</a></li>
        </ul>
      </div>
    </nav>

    <div class="container tierlist-page">
      <section class="tierlist-card board-card">
        <div class="tierlist-card-header">
          <h2>Tier Board</h2>
          <span class="device-indicator">Single-column, drag-friendly layout</span>
        </div>

        <div class="tier-board">
          <div id="tier-S" class="tier-row S">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>S Tier</h3>
          </div>
          <div id="tier-A" class="tier-row A">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>A Tier</h3>
          </div>
          <div id="tier-B" class="tier-row B">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>B Tier</h3>
          </div>
          <div id="tier-C" class="tier-row C">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>C Tier</h3>
          </div>
          <div id="tier-D" class="tier-row D">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>D Tier</h3>
          </div>
          <div id="tier-F" class="tier-row F">
            <button class="select-row btn btn-secondary btn-compact">Select</button>
            <h3>F Tier</h3>
          </div>
        </div>
      </section>
    </div>

    <div class="tierlist-toolbox" aria-label="Tier list toolbox">
      <div class="toolbox-inner">
        <div class="toolbox-controls toolbox-panel" id="toolbox-controls-panel">
          <div class="toolbox-instructions">
            <p>Quick reference</p>
            <ul>
              <li>Drag tiles into any tier</li>
              <li>Tap tile to spotlight</li>
              <li>Use arrow keys after selecting</li>
            </ul>
          </div>
          <div class="tier-create" aria-label="Add new tier">
            <input
              type="text"
              class="tiername"
              id="newTierName"
              placeholder="New tier name"
              aria-label="New tier name"
            />
            <button class="btn btn-primary btn-icon" id="addTier" aria-label="Add tier">+</button>
          </div>
          <div class="toolbox-actions">
            <a href="pre-loader.html" class="btn btn-secondary btn-compact">Image Loader</a>
            <button class="btn btn-success btn-compact" id="shareTier">Share</button>
          </div>
        </div>
        <div class="toolbox-strip" aria-label="Image pool">
          <div id="images" class="image-strip"></div>
        </div>
        <div class="toolbox-mobile-actions" aria-label="Toolbox panel toggles">
          <button type="button" class="btn btn-secondary btn-compact toolbox-toggle" data-toolbox-panel="toolbox-controls-panel" aria-expanded="false">
            Controls
          </button>
          <button type="button" class="btn btn-secondary btn-compact toolbox-toggle" data-toolbox-panel="large-image-container" aria-expanded="false">
            Preview
          </button>
        </div>
        <div id="large-image-container" class="toolbox-preview toolbox-panel" aria-live="polite">
          <span class="preview-placeholder">Select a tile</span>
          <img id="large-image" alt="Selected tile preview" />
        </div>
      </div>
    </div>

    <footer>
      <div class="container footer-icons">
        <a href="mailto:celestepersonalmail@gmail.com" class="footer-icon" aria-label="Email Celeste">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M3 5h18a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm0 2v.511l9 5.489 9-5.489V7H3zm18 10V9.489l-8.553 5.207a1 1 0 0 1-1.894 0L2 9.489V17a0 0 0 0 0 0 0h19z"/></svg>
        </a>
        <a href="https://linkedin.com/in/celeste-artley" class="footer-icon" aria-label="Visit LinkedIn" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M20.447 20.452H17.2V14.89c0-1.327-.027-3.036-1.852-3.036-1.853 0-2.136 1.445-2.136 2.939v5.659H9.006V9h3.112v1.561h.044c.433-.82 1.494-1.684 3.073-1.684 3.285 0 3.89 2.165 3.89 4.977v6.598zM5.337 7.433a1.804 1.804 0 1 1 0-3.609 1.804 1.804 0 0 1 0 3.609zM6.777 20.452H3.893V9h2.884v11.452z"/></svg>
        </a>
        <a href="https://github.com/CelesteGiraffe" class="footer-icon" aria-label="See GitHub" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 2a10 10 0 0 0-3.162 19.492c.5.092.683-.217.683-.483 0-.237-.009-.866-.014-1.7-2.782.604-3.369-1.342-3.369-1.342-.454-1.154-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.004.071 1.532 1.032 1.532 1.032.892 1.53 2.341 1.088 2.91.832.091-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.272.098-2.65 0 0 .84-.269 2.75 1.025a9.564 9.564 0 0 1 5 0c1.91-1.294 2.75-1.025 2.75-1.025.545 1.378.202 2.397.099 2.65.64.699 1.028 1.592 1.028 2.683 0 3.842-2.338 4.687-4.566 4.936.359.31.678.918.678 1.852 0 1.336-.012 2.415-.012 2.742 0 .268.18.58.688.481A10 10 0 0 0 12 2z"/></svg>
        </a>
        <a href="https://celestegiraffe.github.io/about.html" class="footer-icon" aria-label="About Celeste">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm.75 5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-2 3.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v6.5h1.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h1.5v-5h-.75a.75.75 0 0 1-.75-.75z"/></svg>
        </a>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      const imageLinks = JSON.parse(localStorage.getItem("imageUrls") || "[]");
      imageLinks.forEach((link, index) => {
        const imgElement = `<div class="image-square"><img src="${link}" alt="Image ${
          index + 1
        }"></div>`;
        $("#images").append(imgElement);
      });

      $(".image-square").draggable({
        revert: "invalid",
      });
    </script>
    <script src="../js/jquery.ui.touch-punch.min.js"></script>
    <script src="tierlist.js"></script>
    <script src="../js/tryableProjects.js"></script>
    <script>
      (() => {
        const mobileQuery = window.matchMedia('(max-width: 768px)');
        const toggleButtons = document.querySelectorAll('.toolbox-toggle[data-toolbox-panel]');
        if (!toggleButtons.length) {
          return;
        }

        const panels = new Map();
        const buttons = new Map();
        toggleButtons.forEach((button) => {
          const targetId = button.getAttribute('data-toolbox-panel');
          const panel = document.getElementById(targetId);
          if (panel) {
            panels.set(targetId, panel);
            buttons.set(targetId, button);
            button.setAttribute('aria-expanded', 'false');
          }
        });

        if (!panels.size) {
          return;
        }

        const resetPanels = () => {
          panels.forEach((panel) => panel.classList.remove('is-visible'));
          buttons.forEach((button) => button.setAttribute('aria-expanded', 'false'));
        };

        const showPanel = (panelId) => {
          const panel = panels.get(panelId);
          const button = buttons.get(panelId);
          if (!panel || !button) {
            return;
          }
          panel.classList.add('is-visible');
          button.setAttribute('aria-expanded', 'true');
        };

        const handleButtonClick = (event) => {
          const button = event.currentTarget;
          const targetId = button.getAttribute('data-toolbox-panel');
          const panel = panels.get(targetId);
          if (!panel) {
            return;
          }

          if (!mobileQuery.matches) {
            panel.scrollIntoView({ behavior: 'smooth', block: 'center' });
            return;
          }

          const isActive = panel.classList.contains('is-visible');
          resetPanels();

          if (!isActive) {
            showPanel(targetId);
          }
        };

        toggleButtons.forEach((button) => {
          button.addEventListener('click', handleButtonClick);
        });

        const showDefaultPanel = () => {
          const defaultButton = toggleButtons[0];
          if (mobileQuery.matches && defaultButton) {
            const targetId = defaultButton.getAttribute('data-toolbox-panel');
            showPanel(targetId);
          }
        };

        const handleViewportChange = () => {
          resetPanels();
          if (!mobileQuery.matches) {
            return;
          }
          showDefaultPanel();
        };

        handleViewportChange();

        if (typeof mobileQuery.addEventListener === 'function') {
          mobileQuery.addEventListener('change', handleViewportChange);
        } else if (typeof mobileQuery.addListener === 'function') {
          mobileQuery.addListener(handleViewportChange);
        }
      })();
    </script>
  </body>
</html>
