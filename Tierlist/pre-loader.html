<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tier List Image Loader Â· Celeste Artley</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <script src="../js/navigation.js" defer></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav>
      <div class="container">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../about.html">About</a></li>
          <li><a href="../game-developer.html">Game Developer</a></li>
          <li><a href="../web-developer.html">Web Developer</a></li>
          <li><a href="../backend-developer.html">Backend Developer</a></li>
          <li><a href="../fullstack-developer.html">Full-Stack Developer</a></li>
          <li><a href="../custom.html">Custom Filter</a></li>
        </ul>
      </div>
    </nav>

    <div class="container tierlist-page">
      <div class="page-header tierlist-upload-header">
        <h1>Upload images via URL</h1>
      </div>

      <section class="tierlist-card loader-card">
        <div class="url-builder">
          <div class="url-builder-header">
            <p class="control-label">Image URLs</p>
            <button type="button" class="btn btn-icon add-url-button" id="addUrl" aria-label="Add another image URL">
              <span aria-hidden="true">+</span>
            </button>
          </div>
          <div class="url-inputs" id="urlInputs" aria-live="polite"></div>
        </div>

        <div class="loader-actions">
          <button class="btn btn-secondary" id="restoreDefaults">Use Sample Data</button>
          <button class="btn btn-success" id="loadImages">Save &amp; Open Tier List</button>
        </div>

        <p class="helper-text">
          Add each direct image link (PNG, JPG, GIF) separately. Use Sample Data to preload the fruit set or tap the +
          button for new slots.
        </p>
      </section>
    </div>

    <footer>
      <div class="container footer-icons">
        <a href="mailto:celestepersonalmail@gmail.com" class="footer-icon" aria-label="Email Celeste">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M3 5h18a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm0 2v.511l9 5.489 9-5.489V7H3zm18 10V9.489l-8.553 5.207a1 1 0 0 1-1.894 0L2 9.489V17a0 0 0 0 0 0 0h19z"/></svg>
        </a>
        <a href="https://linkedin.com/in/celeste-artley" class="footer-icon" aria-label="Visit LinkedIn" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M20.447 20.452H17.2V14.89c0-1.327-.027-3.036-1.852-3.036-1.853 0-2.136 1.445-2.136 2.939v5.659H9.006V9h3.112v1.561h.044c.433-.82 1.494-1.684 3.073-1.684 3.285 0 3.89 2.165 3.89 4.977v6.598zM5.337 7.433a1.804 1.804 0 1 1 0-3.609 1.804 1.804 0 0 1 0 3.609zM6.777 20.452H3.893V9h2.884v11.452z"/></svg>
        </a>
        <a href="https://github.com/CelesteGiraffe" class="footer-icon" aria-label="See GitHub" target="_blank" rel="noreferrer noopener">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 2a10 10 0 0 0-3.162 19.492c.5.092.683-.217.683-.483 0-.237-.009-.866-.014-1.7-2.782.604-3.369-1.342-3.369-1.342-.454-1.154-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.004.071 1.532 1.032 1.532 1.032.892 1.53 2.341 1.088 2.91.832.091-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.272.098-2.65 0 0 .84-.269 2.75 1.025a9.564 9.564 0 0 1 5 0c1.91-1.294 2.75-1.025 2.75-1.025.545 1.378.202 2.397.099 2.65.64.699 1.028 1.592 1.028 2.683 0 3.842-2.338 4.687-4.566 4.936.359.31.678.918.678 1.852 0 1.336-.012 2.415-.012 2.742 0 .268.18.58.688.481A10 10 0 0 0 12 2z"/></svg>
        </a>
        <a href="https://celestegiraffe.github.io/about.html" class="footer-icon" aria-label="About Celeste">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm.75 5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-2 3.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v6.5h1.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h1.5v-5h-.75a.75.75 0 0 1-.75-.75z"/></svg>
        </a>
      </div>
    </footer>

    <script>
      const defaultImageUrls = [
        "https://images.unsplash.com/photo-1528821128474-27f963b062bf?auto=format&fit=crop&w=600&q=60",
        "https://www.calgiant.com/wp-content/uploads/2021/08/berry-iso-straw-1-878x1024.png",
        "https://i5.walmartimages.com/seo/Fresh-Banana-Fruit-Each_5939a6fa-a0d6-431c-88c6-b4f21608e4be.f7cd0cc487761d74c69b7731493c1581.jpeg",
        "https://familytreefarms.com/wp-content/uploads/2021/03/PeachWhite.jpg",
        "https://walnutcreekfarmtexas.com/wp-content/uploads/2021/08/AdobeStock_76361909-scaled-1.jpeg",
        "https://cdn11.bigcommerce.com/s-a9b4a/images/stencil/1280x1280/products/2195/6681/Organic-Green-Nutmeg-Melon__98209.1666483205.jpg?c=2",
      ];

      const urlInputsEl = document.getElementById("urlInputs");
      const addUrlBtn = document.getElementById("addUrl");
      const restoreDefaultsBtn = document.getElementById("restoreDefaults");
      const loadImagesBtn = document.getElementById("loadImages");
      const exampleUrl = defaultImageUrls[0];

      const ensureMinimumField = () => {
        if (!urlInputsEl.querySelector(".url-field")) {
          renderUrlFields([]);
        }
      };

      const createUrlField = (value = "", { isExample = false } = {}) => {
        const row = document.createElement("div");
        row.className = "url-field-row";

        const input = document.createElement("input");
        input.type = "url";
        input.inputMode = "url";
        input.className = "url-field";
        input.placeholder = "https://example.com/fruit.png";
        input.value = value;

        if (isExample) {
          input.dataset.example = "true";
          input.classList.add("url-field-example");
        }

        input.addEventListener("input", () => {
          if (input.dataset.example === "true") {
            delete input.dataset.example;
            input.classList.remove("url-field-example");
          }
        });

        const removeBtn = document.createElement("button");
        removeBtn.type = "button";
        removeBtn.className = "btn btn-icon remove-url-button";
        removeBtn.setAttribute("aria-label", "Remove image URL");
        removeBtn.innerHTML = "&minus;";

        removeBtn.addEventListener("click", () => {
          row.remove();
          ensureMinimumField();
        });

        row.appendChild(input);
        row.appendChild(removeBtn);
        return row;
      };

      const renderUrlFields = (urls = []) => {
        urlInputsEl.innerHTML = "";
        if (!urls.length) {
          urlInputsEl.appendChild(createUrlField(exampleUrl, { isExample: true }));
        } else {
          urls.forEach((url) => urlInputsEl.appendChild(createUrlField(url)));
        }
      };

      const getUrlValues = () =>
        Array.from(urlInputsEl.querySelectorAll(".url-field"))
          .filter((input) => input.dataset.example !== "true")
          .map((input) => input.value.trim())
          .filter((value) => value.length > 0);

      addUrlBtn.addEventListener("click", () => {
        const newRow = createUrlField("");
        urlInputsEl.appendChild(newRow);
        newRow.querySelector("input").focus();
      });

      restoreDefaultsBtn.addEventListener("click", () => {
        renderUrlFields(defaultImageUrls);
      });

      loadImagesBtn.addEventListener("click", () => {
        const imageUrls = getUrlValues();
        if (!imageUrls.length) {
          alert("Add at least one image URL or load the sample data first.");
          return;
        }
        localStorage.setItem("imageUrls", JSON.stringify(imageUrls));
        window.location.href = "Tierlist.html";
      });

      const initUrlBuilder = () => {
        const storedUrls = JSON.parse(localStorage.getItem("imageUrls") || "[]");
        renderUrlFields(storedUrls);
      };

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initUrlBuilder);
      } else {
        initUrlBuilder();
      }
    </script>
    <script src="../js/tryableProjects.js"></script>
  </body>
</html>
